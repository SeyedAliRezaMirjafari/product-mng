
<div dir="rtl">
<h2>اجرای پروژه</h2>
<p>اطلاعات خواسته شده در پوشه
<a href="https://github.com/SeyedAliRezaMirjafari/product-mng/blob/master/doc">doc</a>
میباشد.</p>
<p>برای اجرای پروژه نیاز هست تا اسکریپت 
<a href="https://github.com/SeyedAliRezaMirjafari/product-mng/blob/master/scripts/1.0.0/init.sql">init.sql </a>
را بر روی دیتابیس ساخته شده به اسم product-mng-db اجرا کنید.</p>
<p>با توجه به استفاده از ابزار Testcontainers لازم است در هنگام اجرای تست ها روی سیستم داکر نصب شده باشد.</p>
<p>اطلاعات مربوط به اتصال به دیتابیس در فایل 
<a href="https://github.com/SeyedAliRezaMirjafari/product-mng/blob/master/src/main/resources/application.properties">application.properties</a>
موجود است، با توجه به ساده نگاه کردن به کار از پروفایل بندی تنظیمات صرف نظر شده است.</p>
<p>برخی از تنظیمات مورد نیاز پروژه در فایل
<a href="https://github.com/SeyedAliRezaMirjafari/product-mng/blob/master/src/main/resources/config.properties">config.properties</a>
میباشد.
</p>
</div>

<div dir="rtl">
<h2>نکات فنی پیاده سازی</h2>
<p>در پیاده سازی سرویس بارگذاری لیست کامل محصولات دیتا از view از جدول product بار گذاری میشود (jpa view:productView) که خلاصه دیتای امتیازات ثبت شده و اطلاعات عمومی محصول در یک کوئری از دیتابیس گرفته میشود</p>
<p>در پیاده سازی سرویس بارگذاری اطلاعات کامل محصول دیتا از view از جدول product بارگذاری میشود(jpa view:productView) و در یک کوئری دیتای امتیازات و اطلاعات مربوط به تولید کنندگان و اطلاعات کامل محصول از دیتابیس گرفته میشود و دیتای مربوط به لیست محدودی از کامنت ها با کوئری جداگانه که قابلیت کش شدن دارد از دیتابیس گرفته میشود</p>
<p>قابلیت ثبت نظر و ثبت کامنت در سه حالت غیرفعال، فعال برای همه و فعال فقط برای خریداران محصول قابل تنظیم میباشد</p>
<p>هر محصول دارای دو پارامتر فعال بودن و قابل مشاهده بودن میباشد که برای نمایش محصولات فقط محصولاتی قابل نمایش میباشند که هر دو فیلد در حالت true قرار گرفته باشند</p>
<p>فیلد های مربوط به هر کدام از اکشن هایی که کاربر اماکن انجام آنها را دارد به فرانت برگردانده میشود و چنانچه کاربر به صورت مستقیم اقدام به کال کردن اکشنی که اماکن انجام آن را نداشته بکند خطای عدم دسترسی ACCESS_ERROR را دریافت میکند </p>
<p>در خروجی های سیستم با توجه به عدم پیاده سازی سرویس های جانبی دیتا به صورت تایپ برگردانده شده است که روش بهینه ای نیست و در صورت پیاده سازی سرویس های جانبی فیلد های خروجی باید تغییر کند، به عنوان مثال در حال حاضر اماکن ثبت امتیاز به صورت یک پارامتر سه حالته برگشت داده شده که در صورت کامل شدن سرویس این فیلد متناسب با هر کاربر فقط به صورت فعال یا غیر فعال باید برگردانده شود.</p>
<p>به منظور بهینه بودن سیستم، دیتابیس و ایندکس های لازم ساخته شده و در فایل های مربوط به اجرای پروژه قرار داده شده، به همین خاطر امکان ساخت خودکار دیتابیس خاموش میباشد.</p>
<p>واقعا نرسیدم تستهای کامل بنویسم، فقط چند تا نمونه تست تو ساختارهای متفاوت نوشتم :(( </p>
</div>